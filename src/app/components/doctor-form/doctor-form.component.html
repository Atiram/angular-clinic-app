<div class="doctor-form-container">
  <h2>{{ isEditMode ? 'Edit Doctor' : 'Add Doctor' }}</h2>

  <form [formGroup]="doctorForm" (ngSubmit)="onSubmit()">
    <div class="form-group">
      <label for="firstName">First Name:</label>
      <input type="text" id="firstName" formControlName="firstName">
      <div *ngIf="doctorForm.get('firstName')?.invalid && doctorForm.get('firstName')?.touched" class="error-message">
        First name is required.
      </div>
    </div>

    <div class="form-group">
      <label for="lastName">Last Name:</label>
      <input type="text" id="lastName" formControlName="lastName">
      <div *ngIf="doctorForm.get('lastName')?.invalid && doctorForm.get('lastName')?.touched" class="error-message">
        Last name is required.
      </div>
    </div>

    <div class="form-group">
      <label for="middleName">Middle Name (optional):</label>
      <input type="text" id="middleName" formControlName="middleName">
    </div>

    <div class="form-group">
      <label for="dateOfBirth">Date of Birth:</label>
      <input type="date" id="dateOfBirth" formControlName="dateOfBirth">
      <div *ngIf="doctorForm.get('dateOfBirth')?.invalid && doctorForm.get('dateOfBirth')?.touched" class="error-message">
        <span *ngIf="doctorForm.get('dateOfBirth')?.errors?.['required']">Date of birth is required.</span>
        <span *ngIf="doctorForm.get('dateOfBirth')?.errors?.['futureDate']">Date of birth cannot be in the future.</span>
      </div>
    </div>

    <div class="form-group">
      <label for="email">Email:</label>
      <input type="email" id="email" formControlName="email">
      <div *ngIf="doctorForm.get('email')?.invalid && doctorForm.get('email')?.touched" class="error-message">
        <span *ngIf="doctorForm.get('email')?.errors?.['required']">Email is required.</span>
        <span *ngIf="doctorForm.get('email')?.errors?.['email']">Enter a valid Email.</span>
      </div>
    </div>

    <div class="form-group">
      <label for="specialization">Specialization:</label>
      <input type="text" id="specialization" formControlName="specialization">
      <div *ngIf="doctorForm.get('specialization')?.invalid && doctorForm.get('specialization')?.touched" class="error-message">
        Specialization is required.
      </div>
    </div>

    <div class="form-group">
      <label for="office">Office:</label>
      <input type="text" id="office" formControlName="office">
      <div *ngIf="doctorForm.get('office')?.invalid && doctorForm.get('office')?.touched" class="error-message">
        Office is required.
      </div>
    </div>

    <div class="form-group">
      <label for="careerStartYear">Career Start Year:</label>
      <input type="number" id="careerStartYear" formControlName="careerStartYear">
      <div *ngIf="doctorForm.get('careerStartYear')?.invalid && doctorForm.get('careerStartYear')?.touched" class="error-message">
        <span *ngIf="doctorForm.get('careerStartYear')?.errors?.['required']">Career start year is required.</span>
        <span *ngIf="doctorForm.get('careerStartYear')?.errors?.['min'] || doctorForm.get('careerStartYear')?.errors?.['max']">Enter a valid year.</span>
      </div>
    </div>

    <div class="form-group">
      <label for="status">Status:</label>
      <select id="status" formControlName="status">
        <option *ngFor="let status of doctorStatuses; let i = index" [value]="i">
          {{ status }}
        </option>
      </select>
      <div *ngIf="doctorForm.get('status')?.invalid && doctorForm.get('status')?.touched" class="error-message">
        Status is required.
      </div>
    </div>

    <div *ngIf="errorMessage" class="api-error-message">
      {{ errorMessage }}
    </div>

    <div class="form-actions">
      <button type="submit" [disabled]="doctorForm.invalid">
        {{ isEditMode ? 'Save Changes' : 'Add Doctor' }}
      </button>
      <button type="button" (click)="onCancel()">Cancel</button>
    </div>
  </form>
</div>